<script src="tinytest.js"></script>
<script>
  function isPrototypeOf(protoObj, obj) {

    if (typeof obj === 'undefined' || obj === null || typeof obj !== 'object') {

      throw new TypeError('obj can not be empty.');

    }

    if (typeof protoObj === 'undefined' || protoObj === null || typeof protoObj !== 'object') {
      throw new TypeError('protoObj can not be empty');
    }

    // Loop obj all prototype hierarchy
    if (Object.getPrototypeOf(obj)) {

      if (protoObj === Object.getPrototypeOf(obj)) {
        return true;
      } else {
        return isPrototypeOf(protoObj, Object.getPrototypeOf(obj));
      }

    } else {
      return false
    }

  }

  tests({

    'Check prototpye of : Equal': function() {
      var canine = {
        bark: function() {
          console.log('bark');
        }
      };

      var dog = Object.create(canine);
      dog.fetch = function() {
        console.log('fetch');
      };

      var myDog = Object.create(dog);
      //debugger;
      eq(true, isPrototypeOf(dog, myDog));

    },

    'Check prototpye of : Not equal': function() {
      var canine = {
        bark: function() {
          console.log('bark');
        }
      };

      var dog = Object.create(canine);
      dog.fetch = function() {
        console.log('fetch');
      };

      var myDog = Object.create(dog);
      var empty = Object.create(null);
      // console.log("here");
      // console.log(empty);
      eq(false, isPrototypeOf(dog, empty));

    },

    'Check prototpye of : Hierarchy': function() {
      var canine = {
        bark: function() {
          console.log('bark');
        }
      };

      var dog = Object.create(canine);
      dog.fetch = function() {
        console.log('fetch');
      };

      var myDog = Object.create(dog);
      var empty = Object.create(null);

      eq(true, isPrototypeOf(Object.prototype, myDog));

    },


    'Check prototpye of : Any number layers of hierarchy': function() {
      var canine = {
        bark: function() {
          console.log('bark');
        }
      };

      var dog = Object.create(canine);
      dog.fetch = function() {
        console.log('fetch');
      };

      var myDog = Object.create(dog);
      var empty = Object.create(null);

      eq(true, isPrototypeOf(canine, myDog));

    },

    'Object can not be empty': function() {

      try {
        isPrototypeOf(undefined, null);
      } catch (e) {
        console.log(e);
        eq(e instanceof TypeError, true);
      }

    }

  });
</script>